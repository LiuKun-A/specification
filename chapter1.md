# 数据库规范

## MySQL
1. 减少*的使用，只查询所需要字段。
2. 减少表的关联查询，正常不允许超过3张。复杂SQL拆分为多条简单SQL,然后在代码层面进行拼装。
3. 使用批量操作
    * 禁止在循环中查询，使用批量查询代替。
    * 使用批量插入代替循环中单条插入。
    * 批量结果不宜过大。
4. 减少数据库的计算，把需要计算的内容尽可能计算好当参数传入。
5. 尽量减少数据库函数的使用，因其使用后不走索引。 减少存储过程及触发器的使用：性能高，但不方便维护。
6. 所有查询一定要确认其执行计划:
    * 无索引的创建索引，数据量大的表的索引创建只允许在上线前业务不忙时创建(如0点到7点)
    * 查询条件较多时，使用组合索引，并注意其where条件的顺序。
    * 保证其索引的合理性
7. 涉及事务的操作必须确保事务粒度尽可能小。
8. 确保表字段的合理性：
    * 类型合理
    * 字段数量合理
    * 减少NULL的使用
    * 减少text/blob的使用
9. 控制单表数据，合理分表。


其最终思想：**写简单，可读，可维护的SQL**。

### 索引规范



